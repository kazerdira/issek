{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"setAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return setAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  Object.defineProperty(exports, \"usersAPI\", {\n    enumerable: true,\n    get: function () {\n      return usersAPI;\n    }\n  });\n  Object.defineProperty(exports, \"chatsAPI\", {\n    enumerable: true,\n    get: function () {\n      return chatsAPI;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(config => {\n    // Token will be set dynamically\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Handle unauthorized\n      console.log('Unauthorized request');\n    }\n    return Promise.reject(error);\n  });\n  const setAuthToken = token => {\n    if (token) {\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n      delete api.defaults.headers.common['Authorization'];\n    }\n  };\n\n  // Auth API\n  const authAPI = {\n    register: data => api.post('/auth/register', data),\n    login: data => api.post('/auth/login', data),\n    requestOTP: phone_number => api.post('/auth/request-otp', {\n      phone_number\n    }),\n    verifyOTP: (phone_number, otp) => api.post('/auth/verify-otp', {\n      phone_number,\n      otp\n    }),\n    getMe: () => api.get('/auth/me'),\n    updateProfile: data => api.put('/auth/profile', data)\n  };\n\n  // Users API\n  const usersAPI = {\n    search: query => api.get(`/users/search?q=${encodeURIComponent(query)}`),\n    getUser: userId => api.get(`/users/${userId}`),\n    addContact: userId => api.post(`/users/contacts/${userId}`),\n    removeContact: userId => api.delete(`/users/contacts/${userId}`),\n    getContacts: () => api.get('/users/contacts')\n  };\n\n  // Chats API\n  const chatsAPI = {\n    getChats: () => api.get('/chats'),\n    getChat: chatId => api.get(`/chats/${chatId}`),\n    createChat: data => api.post('/chats', data),\n    getMessages: (chatId, limit = 50, skip = 0) => api.get(`/chats/${chatId}/messages?limit=${limit}&skip=${skip}`),\n    sendMessage: (chatId, data) => api.post(`/chats/${chatId}/messages`, data),\n    editMessage: (messageId, content) => api.put(`/chats/messages/${messageId}`, {\n      content\n    }),\n    deleteMessage: (messageId, forEveryone = false) => api.delete(`/chats/messages/${messageId}?for_everyone=${forEveryone}`),\n    addReaction: (messageId, emoji) => api.post(`/chats/messages/${messageId}/react`, {\n      message_id: messageId,\n      emoji\n    }),\n    removeReaction: (messageId, emoji) => api.delete(`/chats/messages/${messageId}/react`, {\n      data: {\n        message_id: messageId,\n        emoji\n      }\n    }),\n    markAsRead: messageId => api.post(`/chats/messages/${messageId}/read`)\n  };\n});","lineCount":127,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"api"],[15,16,6,0],[16,4,6,0],[17,2,6,0],[18,2,37,0,"Object"],[18,8,37,0],[18,9,37,0,"defineProperty"],[18,23,37,0],[18,24,37,0,"exports"],[18,31,37,0],[19,4,37,0,"enumerable"],[19,14,37,0],[20,4,37,0,"get"],[20,7,37,0],[20,18,37,0,"get"],[20,19,37,0],[21,6,37,0],[21,13,37,0,"setAuthToken"],[21,25,37,0],[22,4,37,0],[23,2,37,0],[24,2,46,0,"Object"],[24,8,46,0],[24,9,46,0,"defineProperty"],[24,23,46,0],[24,24,46,0,"exports"],[24,31,46,0],[25,4,46,0,"enumerable"],[25,14,46,0],[26,4,46,0,"get"],[26,7,46,0],[26,18,46,0,"get"],[26,19,46,0],[27,6,46,0],[27,13,46,0,"authAPI"],[27,20,46,0],[28,4,46,0],[29,2,46,0],[30,2,56,0,"Object"],[30,8,56,0],[30,9,56,0,"defineProperty"],[30,23,56,0],[30,24,56,0,"exports"],[30,31,56,0],[31,4,56,0,"enumerable"],[31,14,56,0],[32,4,56,0,"get"],[32,7,56,0],[32,18,56,0,"get"],[32,19,56,0],[33,6,56,0],[33,13,56,0,"usersAPI"],[33,21,56,0],[34,4,56,0],[35,2,56,0],[36,2,65,0,"Object"],[36,8,65,0],[36,9,65,0,"defineProperty"],[36,23,65,0],[36,24,65,0,"exports"],[36,31,65,0],[37,4,65,0,"enumerable"],[37,14,65,0],[38,4,65,0,"get"],[38,7,65,0],[38,18,65,0,"get"],[38,19,65,0],[39,6,65,0],[39,13,65,0,"chatsAPI"],[39,21,65,0],[40,4,65,0],[41,2,65,0],[42,2,81,2],[42,6,81,2,"_expoVirtualEnv"],[42,21,81,2],[42,24,81,2,"require"],[42,31,81,2],[42,32,81,2,"_dependencyMap"],[42,46,81,2],[43,2,1,0],[43,6,1,0,"_axios"],[43,12,1,0],[43,15,1,0,"require"],[43,22,1,0],[43,23,1,0,"_dependencyMap"],[43,37,1,0],[44,2,1,0],[44,6,1,0,"axios"],[44,11,1,0],[44,14,1,0,"_interopDefault"],[44,29,1,0],[44,30,1,0,"_axios"],[44,36,1,0],[45,2,2,0],[45,6,2,0,"_expoConstants"],[45,20,2,0],[45,23,2,0,"require"],[45,30,2,0],[45,31,2,0,"_dependencyMap"],[45,45,2,0],[46,2,2,0],[46,6,2,0,"Constants"],[46,15,2,0],[46,18,2,0,"_interopDefault"],[46,33,2,0],[46,34,2,0,"_expoConstants"],[46,48,2,0],[47,2,4,0],[47,8,4,6,"API_URL"],[47,15,4,13],[47,18,4,16,"Constants"],[47,27,4,25],[47,28,4,25,"default"],[47,35,4,25],[47,36,4,26,"expoConfig"],[47,46,4,36],[47,48,4,38,"extra"],[47,53,4,43],[47,55,4,45,"EXPO_PUBLIC_BACKEND_URL"],[47,78,4,68],[47,82,4,68,"_expoVirtualEnv"],[47,97,4,68],[47,98,4,68,"env"],[47,101,4,68],[47,102,4,68,"EXPO_PUBLIC_BACKEND_URL"],[47,125,4,107],[48,2,6,7],[48,8,6,13,"api"],[48,11,6,16],[48,14,6,19,"axios"],[48,19,6,24],[48,20,6,24,"default"],[48,27,6,24],[48,28,6,25,"create"],[48,34,6,31],[48,35,6,32],[49,4,7,2,"baseURL"],[49,11,7,9],[49,13,7,11],[49,16,7,14,"API_URL"],[49,23,7,21],[49,29,7,27],[50,4,8,2,"timeout"],[50,11,8,9],[50,13,8,11],[50,18,8,16],[51,4,9,2,"headers"],[51,11,9,9],[51,13,9,11],[52,6,10,4],[52,20,10,18],[52,22,10,20],[53,4,11,2],[54,2,12,0],[54,3,12,1],[54,4,12,2],[56,2,14,0],[57,2,15,0,"api"],[57,5,15,3],[57,6,15,4,"interceptors"],[57,18,15,16],[57,19,15,17,"request"],[57,26,15,24],[57,27,15,25,"use"],[57,30,15,28],[57,31,16,3,"config"],[57,37,16,9],[57,41,16,14],[58,4,17,4],[59,4,18,4],[59,11,18,11,"config"],[59,17,18,17],[60,2,19,2],[60,3,19,3],[60,5,20,3,"error"],[60,10,20,8],[60,14,20,13],[61,4,21,4],[61,11,21,11,"Promise"],[61,18,21,18],[61,19,21,19,"reject"],[61,25,21,25],[61,26,21,26,"error"],[61,31,21,31],[61,32,21,32],[62,2,22,2],[62,3,23,0],[62,4,23,1],[64,2,25,0],[65,2,26,0,"api"],[65,5,26,3],[65,6,26,4,"interceptors"],[65,18,26,16],[65,19,26,17,"response"],[65,27,26,25],[65,28,26,26,"use"],[65,31,26,29],[65,32,27,3,"response"],[65,40,27,11],[65,44,27,16,"response"],[65,52,27,24],[65,54,28,3,"error"],[65,59,28,8],[65,63,28,13],[66,4,29,4],[66,8,29,8,"error"],[66,13,29,13],[66,14,29,14,"response"],[66,22,29,22],[66,24,29,24,"status"],[66,30,29,30],[66,35,29,35],[66,38,29,38],[66,40,29,40],[67,6,30,6],[68,6,31,6,"console"],[68,13,31,13],[68,14,31,14,"log"],[68,17,31,17],[68,18,31,18],[68,40,31,40],[68,41,31,41],[69,4,32,4],[70,4,33,4],[70,11,33,11,"Promise"],[70,18,33,18],[70,19,33,19,"reject"],[70,25,33,25],[70,26,33,26,"error"],[70,31,33,31],[70,32,33,32],[71,2,34,2],[71,3,35,0],[71,4,35,1],[72,2,37,7],[72,8,37,13,"setAuthToken"],[72,20,37,25],[72,23,37,29,"token"],[72,28,37,49],[72,32,37,54],[73,4,38,2],[73,8,38,6,"token"],[73,13,38,11],[73,15,38,13],[74,6,39,4,"api"],[74,9,39,7],[74,10,39,8,"defaults"],[74,18,39,16],[74,19,39,17,"headers"],[74,26,39,24],[74,27,39,25,"common"],[74,33,39,31],[74,34,39,32],[74,49,39,47],[74,50,39,48],[74,53,39,51],[74,63,39,61,"token"],[74,68,39,66],[74,70,39,68],[75,4,40,2],[75,5,40,3],[75,11,40,9],[76,6,41,4],[76,13,41,11,"api"],[76,16,41,14],[76,17,41,15,"defaults"],[76,25,41,23],[76,26,41,24,"headers"],[76,33,41,31],[76,34,41,32,"common"],[76,40,41,38],[76,41,41,39],[76,56,41,54],[76,57,41,55],[77,4,42,2],[78,2,43,0],[78,3,43,1],[80,2,45,0],[81,2,46,7],[81,8,46,13,"authAPI"],[81,15,46,20],[81,18,46,23],[82,4,47,2,"register"],[82,12,47,10],[82,14,47,13,"data"],[82,18,47,22],[82,22,47,27,"api"],[82,25,47,30],[82,26,47,31,"post"],[82,30,47,35],[82,31,47,36],[82,47,47,52],[82,49,47,54,"data"],[82,53,47,58],[82,54,47,59],[83,4,48,2,"login"],[83,9,48,7],[83,11,48,10,"data"],[83,15,48,19],[83,19,48,24,"api"],[83,22,48,27],[83,23,48,28,"post"],[83,27,48,32],[83,28,48,33],[83,41,48,46],[83,43,48,48,"data"],[83,47,48,52],[83,48,48,53],[84,4,49,2,"requestOTP"],[84,14,49,12],[84,16,49,15,"phone_number"],[84,28,49,35],[84,32,49,40,"api"],[84,35,49,43],[84,36,49,44,"post"],[84,40,49,48],[84,41,49,49],[84,60,49,68],[84,62,49,70],[85,6,49,72,"phone_number"],[86,4,49,85],[86,5,49,86],[86,6,49,87],[87,4,50,2,"verifyOTP"],[87,13,50,11],[87,15,50,13,"verifyOTP"],[87,16,50,14,"phone_number"],[87,28,50,34],[87,30,50,36,"otp"],[87,33,50,47],[87,38,50,52,"api"],[87,41,50,55],[87,42,50,56,"post"],[87,46,50,60],[87,47,50,61],[87,65,50,79],[87,67,50,81],[88,6,50,83,"phone_number"],[88,18,50,95],[89,6,50,97,"otp"],[90,4,50,101],[90,5,50,102],[90,6,50,103],[91,4,51,2,"getMe"],[91,9,51,7],[91,11,51,9,"getMe"],[91,12,51,9],[91,17,51,15,"api"],[91,20,51,18],[91,21,51,19,"get"],[91,24,51,22],[91,25,51,23],[91,35,51,33],[91,36,51,34],[92,4,52,2,"updateProfile"],[92,17,52,15],[92,19,52,18,"data"],[92,23,52,27],[92,27,52,32,"api"],[92,30,52,35],[92,31,52,36,"put"],[92,34,52,39],[92,35,52,40],[92,50,52,55],[92,52,52,57,"data"],[92,56,52,61],[93,2,53,0],[93,3,53,1],[95,2,55,0],[96,2,56,7],[96,8,56,13,"usersAPI"],[96,16,56,21],[96,19,56,24],[97,4,57,2,"search"],[97,10,57,8],[97,12,57,11,"query"],[97,17,57,24],[97,21,57,29,"api"],[97,24,57,32],[97,25,57,33,"get"],[97,28,57,36],[97,29,57,37],[97,48,57,56,"encodeURIComponent"],[97,66,57,74],[97,67,57,75,"query"],[97,72,57,80],[97,73,57,81],[97,75,57,83],[97,76,57,84],[98,4,58,2,"getUser"],[98,11,58,9],[98,13,58,12,"userId"],[98,19,58,26],[98,23,58,31,"api"],[98,26,58,34],[98,27,58,35,"get"],[98,30,58,38],[98,31,58,39],[98,41,58,49,"userId"],[98,47,58,55],[98,49,58,57],[98,50,58,58],[99,4,59,2,"addContact"],[99,14,59,12],[99,16,59,15,"userId"],[99,22,59,29],[99,26,59,34,"api"],[99,29,59,37],[99,30,59,38,"post"],[99,34,59,42],[99,35,59,43],[99,54,59,62,"userId"],[99,60,59,68],[99,62,59,70],[99,63,59,71],[100,4,60,2,"removeContact"],[100,17,60,15],[100,19,60,18,"userId"],[100,25,60,32],[100,29,60,37,"api"],[100,32,60,40],[100,33,60,41,"delete"],[100,39,60,47],[100,40,60,48],[100,59,60,67,"userId"],[100,65,60,73],[100,67,60,75],[100,68,60,76],[101,4,61,2,"getContacts"],[101,15,61,13],[101,17,61,15,"getContacts"],[101,18,61,15],[101,23,61,21,"api"],[101,26,61,24],[101,27,61,25,"get"],[101,30,61,28],[101,31,61,29],[101,48,61,46],[102,2,62,0],[102,3,62,1],[104,2,64,0],[105,2,65,7],[105,8,65,13,"chatsAPI"],[105,16,65,21],[105,19,65,24],[106,4,66,2,"getChats"],[106,12,66,10],[106,14,66,12,"getChats"],[106,15,66,12],[106,20,66,18,"api"],[106,23,66,21],[106,24,66,22,"get"],[106,27,66,25],[106,28,66,26],[106,36,66,34],[106,37,66,35],[107,4,67,2,"getChat"],[107,11,67,9],[107,13,67,12,"chatId"],[107,19,67,26],[107,23,67,31,"api"],[107,26,67,34],[107,27,67,35,"get"],[107,30,67,38],[107,31,67,39],[107,41,67,49,"chatId"],[107,47,67,55],[107,49,67,57],[107,50,67,58],[108,4,68,2,"createChat"],[108,14,68,12],[108,16,68,15,"data"],[108,20,68,24],[108,24,68,29,"api"],[108,27,68,32],[108,28,68,33,"post"],[108,32,68,37],[108,33,68,38],[108,41,68,46],[108,43,68,48,"data"],[108,47,68,52],[108,48,68,53],[109,4,69,2,"getMessages"],[109,15,69,13],[109,17,69,15,"getMessages"],[109,18,69,16,"chatId"],[109,24,69,30],[109,26,69,32,"limit"],[109,31,69,37],[109,34,69,40],[109,36,69,42],[109,38,69,44,"skip"],[109,42,69,48],[109,45,69,51],[109,46,69,52],[109,51,70,4,"api"],[109,54,70,7],[109,55,70,8,"get"],[109,58,70,11],[109,59,70,12],[109,69,70,22,"chatId"],[109,75,70,28],[109,94,70,47,"limit"],[109,99,70,52],[109,108,70,61,"skip"],[109,112,70,65],[109,114,70,67],[109,115,70,68],[110,4,71,2,"sendMessage"],[110,15,71,13],[110,17,71,15,"sendMessage"],[110,18,71,16,"chatId"],[110,24,71,30],[110,26,71,32,"data"],[110,30,71,41],[110,35,71,46,"api"],[110,38,71,49],[110,39,71,50,"post"],[110,43,71,54],[110,44,71,55],[110,54,71,65,"chatId"],[110,60,71,71],[110,71,71,82],[110,73,71,84,"data"],[110,77,71,88],[110,78,71,89],[111,4,72,2,"editMessage"],[111,15,72,13],[111,17,72,15,"editMessage"],[111,18,72,16,"messageId"],[111,27,72,33],[111,29,72,35,"content"],[111,36,72,50],[111,41,73,4,"api"],[111,44,73,7],[111,45,73,8,"put"],[111,48,73,11],[111,49,73,12],[111,68,73,31,"messageId"],[111,77,73,40],[111,79,73,42],[111,81,73,44],[112,6,73,46,"content"],[113,4,73,54],[113,5,73,55],[113,6,73,56],[114,4,74,2,"deleteMessage"],[114,17,74,15],[114,19,74,17,"deleteMessage"],[114,20,74,18,"messageId"],[114,29,74,35],[114,31,74,37,"forEveryone"],[114,42,74,48],[114,45,74,51],[114,50,74,56],[114,55,75,4,"api"],[114,58,75,7],[114,59,75,8,"delete"],[114,65,75,14],[114,66,75,15],[114,85,75,34,"messageId"],[114,94,75,43],[114,111,75,60,"forEveryone"],[114,122,75,71],[114,124,75,73],[114,125,75,74],[115,4,76,2,"addReaction"],[115,15,76,13],[115,17,76,15,"addReaction"],[115,18,76,16,"messageId"],[115,27,76,33],[115,29,76,35,"emoji"],[115,34,76,48],[115,39,77,4,"api"],[115,42,77,7],[115,43,77,8,"post"],[115,47,77,12],[115,48,77,13],[115,67,77,32,"messageId"],[115,76,77,41],[115,84,77,49],[115,86,77,51],[116,6,77,53,"message_id"],[116,16,77,63],[116,18,77,65,"messageId"],[116,27,77,74],[117,6,77,76,"emoji"],[118,4,77,82],[118,5,77,83],[118,6,77,84],[119,4,78,2,"removeReaction"],[119,18,78,16],[119,20,78,18,"removeReaction"],[119,21,78,19,"messageId"],[119,30,78,36],[119,32,78,38,"emoji"],[119,37,78,51],[119,42,79,4,"api"],[119,45,79,7],[119,46,79,8,"delete"],[119,52,79,14],[119,53,79,15],[119,72,79,34,"messageId"],[119,81,79,43],[119,89,79,51],[119,91,79,53],[120,6,79,55,"data"],[120,10,79,59],[120,12,79,61],[121,8,79,63,"message_id"],[121,18,79,73],[121,20,79,75,"messageId"],[121,29,79,84],[122,8,79,86,"emoji"],[123,6,79,92],[124,4,79,94],[124,5,79,95],[124,6,79,96],[125,4,80,2,"markAsRead"],[125,14,80,12],[125,16,80,15,"messageId"],[125,25,80,32],[125,29,80,37,"api"],[125,32,80,40],[125,33,80,41,"post"],[125,37,80,45],[125,38,80,46],[125,57,80,65,"messageId"],[125,66,80,74],[125,73,80,81],[126,2,81,0],[126,3,81,1],[127,0,81,2],[127,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","setAuthToken","authAPI.register","authAPI.login","authAPI.requestOTP","authAPI.verifyOTP","authAPI.getMe","authAPI.updateProfile","usersAPI.search","usersAPI.getUser","usersAPI.addContact","usersAPI.removeContact","usersAPI.getContacts","chatsAPI.getChats","chatsAPI.getChat","chatsAPI.createChat","chatsAPI.getMessages","chatsAPI.sendMessage","chatsAPI.editMessage","chatsAPI.deleteMessage","chatsAPI.addReaction","chatsAPI.removeReaction","chatsAPI.markAsRead"],"mappings":"AAA;ECe;GDG;EEC;GFE;EGK,sBH;EIC;GJM;4BKG;CLM;YMI,+CN;SOC,4CP;cQC,yER;aSC,0FT;SUC,yBV;iBWC,6CX;UYK,0EZ;WaC,+Cb;ccC,yDd;iBeC,2Df;egBC,gChB;YiBK,uBjB;WkBC,+ClB;cmBC,uCnB;eoBC;oEpBC;eqBC,0ErB;esBC;wDtBC;iBuBC;0EvBC;ewBC;oFxBC;kByBC;gGzBC;c0BC,oE1B"},"hasCjsExports":false},"type":"js/module"}]}